# vim: filetype=neomuttrc
# muttrc file for account psa251@nyu.edu
set realname = "Patrick Anker"
set from = "psa251@nyu.edu"
set sendmail = "msmtp -a psa251@nyu.edu"
alias me Patrick Anker <psa251@nyu.edu>
set folder = "~/.local/share/mail/nyu"
set header_cache = "~/.cache/mutt-wizard/nyu/headers"
set message_cachedir = "~/.cache/mutt-wizard/nyu/bodies"
set mbox_type = Maildir
set hostname = "nyu.edu"

source ~/.config/mutt/switch.muttrc

set spoolfile = "+INBOX"
set postponed = "+[Gmail]/Drafts"
set trash = "+[Gmail]/Trash"
set record = "+[Gmail]/Sent Mail"
set signature = "~/.config/mutt/accounts/nyu/signature"

macro index o "<enter-command>set wait_key=no<enter>\
<shell-escape>mailsync psa251@nyu.edu<enter>\
<enter-command>set wait_key=yes<enter>" \
"run mailsync to sync NYU email"

mailboxes "=Archive" "=Asana" "=Github" "=Gitlab" "=INBOX" "=R-announce" "=R-devel" "=Sent Messages" "=SurveyCTO" "=WSN" "=[Gmail]/Drafts" "=[Gmail]/Important" "=[Gmail]/Sent Mail" "=[Gmail]/Spam" "=[Gmail]/Starred" "=[Gmail]/Trash"

# Fix the main mutt-wizard macros to use the neomutt variables
macro index,pager gi "<change-folder>$spoolfile<enter>" "go to inbox"
macro index,pager Mi ";<save-message>$spoolfile<enter>" "move mail to inbox"
macro index,pager Ci ";<copy-message>$spoolfile<enter>" "copy mail to inbox"
macro index,pager gd "<change-folder>$postponed<enter>" "go to drafts"
macro index,pager Md ";<save-message>$postponed<enter>" "move mail to drafts"
macro index,pager Cd ";<copy-message>$postponed<enter>" "copy mail to drafts"
macro index,pager gt "<change-folder>$trash<enter>" "go to trash"
macro index,pager Mt ";<save-message>$trash<enter>" "move mail to trash"
macro index,pager Ct ";<copy-message>$trash<enter>" "copy mail to trash"
macro index,pager gs "<change-folder>$record<enter>" "go to sent"
macro index,pager Ms ";<save-message>$record<enter>" "move mail to sent"
macro index,pager Cs ";<copy-message>$record<enter>" "copy mail to sent"
